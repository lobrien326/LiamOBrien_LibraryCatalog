<!DOCTYPE html>
<html>
    <head>
        <title>Library Card Sign Up - MPL</title>
        <meta charset="utf-8">
        <link type="text/css" rel="stylesheet" href="style.css">
        <script src="script.js"></script>
    </head>

    <body>
        <header>
            <div id="header_content">
                    <div id="title">
                        <h1><a href="/">Medilan Public Library District</a></h1>
                    </div>
                    <div id="sublinks">
                        <a href="/about">Learn about the Library</a>
                        <a href="/calendar">Calendar of Events</a>
                        <a href="/library_cards">Get a Library Card</a>
                        <a href="/checkouts">View your Checked Out Books</a>
                    </div>
            </div>
        </header>

        <!-- The sign up system isn't nearly as regulated as it should be, but that's just because of time. The name, email,
         and PIN are chosen by the user, while the card_number is randomly generated by the system to follow a standard format:
         a letter followed by 9 numbers. It also ensures that this card_number is unique.-->
        <div id="sign_up">
            <form id="sign_up_form" method="post" action="/sign_up">
                <input type="text" id="uName" name="name" placeholder="Enter your full name">
                <input type="email" id="uEmail" name="email" placeholder="Enter your email address">
                <input type="text" id="uPin" name="pin" placeholder="Enter your desired PIN">
                <button>Get your Library Card Number</button>
            </form>
        </div>

        <!-- This pops up after signing up, showing the card_number and PIN, and warning the user to not forget them. There
         is no way to recover them on this website without looking into mongodb directly, which users of course cannot do.-->
        <% if (data) { %>
        <p>Your library card number is: <%=data.card_number%>. Your PIN is: <%=data.pin%>. DO NOT LOSE EITHER OF THEM. Account retrieval will be impossible without technical help from the librarians.</p>
        <%}%>

        <footer>
            <p>Developed by Liam O'Brien | Many cover images courtesy of <a href='https://openlibrary.org/'>Open Library</a>. Blame them if they flicker and don't load.</p>
        </footer>

    </body>
</html>